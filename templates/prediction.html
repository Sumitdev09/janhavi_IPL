<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>üèè IPL Victory Prediction - AI Powered Cricket Analytics</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="icon" href="https://www.jagranimages.com/images/newimg/21082020/21_08_2020-ipl_logo_20650553.jpg" type="image/x-icon">
</head>

<body class="app-bg">
    <!-- Header -->
    <div class="container py-4">
        <div class="d-flex justify-content-between align-items-center mb-5 animate-fade-in-up">
            <div>
                <h1 class="display-5 mb-2 heading-gradient">
                    <i class="fas fa-trophy me-3"></i>IPL Victory Prediction
                </h1>
                <p class="subtitle-text mb-0">
                    <i class="fas fa-brain me-2"></i>AI-powered cricket analytics for accurate match predictions
                </p>
            </div>
            <div>
                <a class="btn btn-outline-light" href="/">
                    <i class="fas fa-home me-2"></i>Home
                </a>
            </div>
        </div>

        <div class="row g-4">
            <!-- Form column -->
            <div class="col-12 col-lg-6">
                <div class="glass-card p-4 animate-fade-in-up" style="animation-delay: 0.2s;">
                    <div class="d-flex align-items-center mb-4">
                        <div class="team-icon me-3" style="width: 40px; height: 40px; font-size: 16px;">
                            <i class="fas fa-edit"></i>
                        </div>
                        <div>
                            <h2 class="h4 mb-0 text-white fw-bold">Match Configuration</h2>
                            <small class="subtitle-text">Configure match parameters for prediction</small>
                        </div>
                    </div>
                    <form id="predictForm" action="/predict" method="post">
                        <div class="row g-2">
                            <div class="col-12 col-sm-6">
                                <label class="form-label label-text">Batting Team</label>
                                <select name="batting_team" class="form-select" required>
                                    <option value="">Select Batting Team</option>
                                    <option value="Punjab Kings">Punjab Kings</option>
                                    <option value="Delhi Capitals">Delhi Capitals</option>
                                    <option value="Royal Challengers Bangalore">Royal Challengers Bangalore</option>
                                    <option value="Chennai Super Kings">Chennai Super Kings</option>
                                    <option value="Mumbai Indians">Mumbai Indians</option>
                                    <option value="Rajasthan Royals">Rajasthan Royals</option>
                                    <option value="Sunrisers Hyderabad">Sunrisers Hyderabad</option>
                                    <option value="Gujarat Titans">Gujarat Titans</option>
                                    <option value="Kolkata Knight Riders">Kolkata Knight Riders</option>
                                    <option value="Lucknow Super Giants">Lucknow Super Giants</option>
                                </select>
                            </div>
                            <div class="col-12 col-sm-6">
                                <label class="form-label label-text">Bowling Team</label>
                                <select name="bowling_team" class="form-select" required>
                                    <option value="">Select Bowling Team</option>
                                    <option value="Punjab Kings">Punjab Kings</option>
                                    <option value="Delhi Capitals">Delhi Capitals</option>
                                    <option value="Royal Challengers Bangalore">Royal Challengers Bangalore</option>
                                    <option value="Chennai Super Kings">Chennai Super Kings</option>
                                    <option value="Mumbai Indians">Mumbai Indians</option>
                                    <option value="Rajasthan Royals">Rajasthan Royals</option>
                                    <option value="Sunrisers Hyderabad">Sunrisers Hyderabad</option>
                                    <option value="Gujarat Titans">Gujarat Titans</option>
                                    <option value="Kolkata Knight Riders">Kolkata Knight Riders</option>
                                    <option value="Lucknow Super Giants">Lucknow Super Giants</option>
                                </select>
                            </div>

                            <div class="col-12">
                                <label class="form-label label-text">City</label>
                                <select name="city" class="form-select" required>
                                    <option value="">Select City</option>
                                    <option value="Chandigarh">Chandigarh</option>
                                    <option value="Bangalore">Bangalore</option>
                                    <option value="Delhi">Delhi</option>
                                    <option value="Mumbai">Mumbai</option>
                                    <option value="Abu Dhabi">Abu Dhabi</option>
                                    <option value="Kanpur">Kanpur</option>
                                    <option value="Chennai">Chennai</option>
                                    <option value="Cape Town">Cape Town</option>
                                    <option value="Bengaluru">Bengaluru</option>
                                    <option value="Jaipur">Jaipur</option>
                                    <option value="Ahmedabad">Ahmedabad</option>
                                    <option value="Hyderabad">Hyderabad</option>
                                    <option value="Johannesburg">Johannesburg</option>
                                    <option value="Durban">Durban</option>
                                    <option value="Pune">Pune</option>
                                    <option value="Sharjah">Sharjah</option>
                                    <option value="Kolkata">Kolkata</option>
                                    <option value="Navi Mumbai">Navi Mumbai</option>
                                    <option value="Port Elizabeth">Port Elizabeth</option>
                                    <option value="Dubai">Dubai</option>
                                    <option value="Centurion">Centurion</option>
                                    <option value="Dharamsala">Dharamsala</option>
                                    <option value="Nagpur">Nagpur</option>
                                    <option value="East London">East London</option>
                                    <option value="Visakhapatnam">Visakhapatnam</option>
                                    <option value="Rajkot">Rajkot</option>
                                    <option value="Cuttack">Cuttack</option>
                                    <option value="Ranchi">Ranchi</option>
                                    <option value="Kimberley">Kimberley</option>
                                    <option value="Raipur">Raipur</option>
                                    <option value="Indore">Indore</option>
                                    <option value="Bloemfontein">Bloemfontein</option>
                                </select>
                            </div>

                            <div class="col-12 col-sm-4">
                                <label class="form-label label-text">Runs Left</label>
                                <input type="number" name="runs_left" class="form-control" required>
                            </div>
                            <div class="col-12 col-sm-4">
                                <label class="form-label label-text">Balls Left</label>
                                <input type="number" name="balls_left" class="form-control" required>
                            </div>
                            <div class="col-12 col-sm-4">
                                <label class="form-label label-text">Wickets Left</label>
                                <input type="number" name="wickets_left" class="form-control" required>
                            </div>

                            <div class="col-12">
                                <label class="form-label label-text">Target</label>
                                <input type="number" step="0.01" name="target" class="form-control" required>
                            </div>

                            <div class="col-12 mt-4">
                                <button id="submitBtn" type="submit" class="btn btn-gradient w-100 py-3">
                                    <i class="fas fa-magic me-2"></i>
                                    <span id="btnText">Generate Prediction</span>
                                    <div id="btnSpinner" class="loading-spinner d-none ms-3" style="width: 20px; height: 20px; display: inline-block !important;"></div>
                                </button>
                                <div class="text-center mt-3">
                                    <small class="subtitle-text">
                                        <i class="fas fa-shield-alt me-1"></i>
                                        Powered by Advanced Machine Learning
                                    </small>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Result column -->
            <div class="col-12 col-lg-6">
                <div class="glass-card p-4 h-100 animate-fade-in-up" style="animation-delay: 0.4s;">
                    <div class="d-flex align-items-center mb-4">
                        <div class="team-icon team-icon-2 me-3" style="width: 40px; height: 40px; font-size: 16px;">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div>
                            <h2 class="h4 mb-0 text-white fw-bold">AI Prediction Results</h2>
                            <small class="subtitle-text">Real-time match outcome analysis</small>
                        </div>
                    </div>

                    {% if probability1 is defined and probability2 is defined and team1 and team2 %}
                    <div class="result-section animate-fade-in-up" style="animation-delay: 0.6s;">
                        <!-- Team 1 Result Card -->
                        <div class="team-result-card mb-4 shadow-glow">
                            <div class="row align-items-center mb-3">
                                <div class="col-auto">
                                    <div class="team-icon">
                                        <i class="fas fa-baseball-ball"></i>
                                    </div>
                                </div>
                                <div class="col">
                                    <h5 class="team-name mb-1 text-truncate" title="{{ team1 }}">
                                        {{ team1 }}
                                    </h5>
                                    <small class="probability-label d-block">
                                        <i class="fas fa-trophy me-1"></i>Batting Team
                                    </small>
                                </div>
                                <div class="col-auto">
                                    <div class="text-end">
                                        <div class="probability-value text-gradient mb-1">{{ probability1 }}%</div>
                                        <small class="subtitle-text">Win Chance</small>
                                    </div>
                                </div>
                            </div>
                            <div class="progress mb-3" style="height: 12px;">
                                <div id="bar1" class="progress-bar" role="progressbar" 
                                     style="width: 0%; background: var(--success-gradient);" 
                                     aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                                </div>
                            </div>
                            <div class="row align-items-center">
                                <div class="col">
                                    <small class="subtitle-text">
                                        <i class="fas fa-chart-line me-1"></i>Confidence Score
                                    </small>
                                </div>
                                <div class="col-auto">
                                    <span class="badge" style="background: var(--success-gradient); padding: 4px 12px;">
                                        {{ probability1 }}%
                                    </span>
                                </div>
                            </div>
                        </div>

                        <!-- VS Divider -->
                        <div class="vs-divider my-4">
                            <span class="vs-text">
                                <i class="fas fa-vs me-2"></i>VS<i class="fas fa-vs ms-2"></i>
                            </span>
                        </div>

                        <!-- Team 2 Result Card -->
                        <div class="team-result-card mb-4 shadow-glow">
                            <div class="row align-items-center mb-3">
                                <div class="col-auto">
                                    <div class="team-icon team-icon-2">
                                        <i class="fas fa-bowling-ball"></i>
                                    </div>
                                </div>
                                <div class="col">
                                    <h5 class="team-name mb-1 text-truncate" title="{{ team2 }}">
                                        {{ team2 }}
                                    </h5>
                                    <small class="probability-label d-block">
                                        <i class="fas fa-bullseye me-1"></i>Bowling Team
                                    </small>
                                </div>
                                <div class="col-auto">
                                    <div class="text-end">
                                        <div class="probability-value text-gradient mb-1">{{ probability2 }}%</div>
                                        <small class="subtitle-text">Win Chance</small>
                                    </div>
                                </div>
                            </div>
                            <div class="progress mb-3" style="height: 12px;">
                                <div id="bar2" class="progress-bar" role="progressbar" 
                                     style="width: 0%; background: var(--secondary-gradient);" 
                                     aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                                </div>
                            </div>
                            <div class="row align-items-center">
                                <div class="col">
                                    <small class="subtitle-text">
                                        <i class="fas fa-chart-line me-1"></i>Confidence Score
                                    </small>
                                </div>
                                <div class="col-auto">
                                    <span class="badge" style="background: var(--secondary-gradient); padding: 4px 12px;">
                                        {{ probability2 }}%
                                    </span>
                                </div>
                            </div>
                        </div>

                        <!-- Prediction Summary -->
                        <div class="prediction-note">
                            <div class="d-flex align-items-start">
                                <div class="me-3">
                                    <i class="fas fa-brain text-gradient" style="font-size: 1.2rem;"></i>
                                </div>
                                <div class="flex-grow-1">
                                    <h6 class="text-white mb-2">AI Analysis Summary</h6>
                                    <p class="mb-2" style="color: var(--text-secondary); font-size: 0.875rem;">
                                        Based on historical data, current match situation, and team performance metrics, 
                                        our machine learning model predicts the match outcome with high accuracy.
                                    </p>
                                    <div class="d-flex flex-wrap gap-2">
                                        <span class="badge bg-dark">
                                            <i class="fas fa-database me-1"></i>Historical Data
                                        </span>
                                        <span class="badge bg-dark">
                                            <i class="fas fa-chart-bar me-1"></i>Live Stats
                                        </span>
                                        <span class="badge bg-dark">
                                            <i class="fas fa-brain me-1"></i>ML Algorithm
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% else %}
                    <div class="placeholder text-center py-5">
                        <div class="mb-4">
                            <i class="fas fa-chart-pie placeholder-icon mb-3 d-block" style="font-size: 4rem; color: var(--text-muted);"></i>
                        </div>
                        <div class="placeholder-text mb-3">
                            <h5 class="text-white mb-2">Ready for Prediction</h5>
                            <p class="subtitle-text mb-0">
                                Fill out the match details in the form and click 
                                <strong class="text-gradient">"Generate Prediction"</strong> 
                                to see AI-powered results
                            </p>
                        </div>
                        <div class="d-flex justify-content-center gap-2 flex-wrap">
                            <span class="badge bg-dark">
                                <i class="fas fa-users me-1"></i>Team Selection
                            </span>
                            <span class="badge bg-dark">
                                <i class="fas fa-map-marker-alt me-1"></i>Venue Info
                            </span>
                            <span class="badge bg-dark">
                                <i class="fas fa-calculator me-1"></i>Match Stats
                            </span>
                        </div>
                    </div>
                    {% endif %}

                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Modern form submission with enhanced UX
        document.getElementById('predictForm')?.addEventListener('submit', function (e) {
            const btn = document.getElementById('submitBtn');
            const text = document.getElementById('btnText');
            const spinner = document.getElementById('btnSpinner');
            
            // Disable button and show loading state
            btn.setAttribute('disabled', 'true');
            btn.classList.add('loading');
            text.innerHTML = '<i class="fas fa-brain me-2"></i>Analyzing Match Data...';
            spinner.classList.remove('d-none');
            
            // Add pulse animation to button
            btn.style.transform = 'scale(0.98)';
            setTimeout(() => {
                btn.style.transform = 'scale(1)';
            }, 150);
        });

        // Enhanced animations for page load
        window.addEventListener('DOMContentLoaded', () => {
            // Stagger animation for cards
            const cards = document.querySelectorAll('.animate-fade-in-up');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(30px)';
                setTimeout(() => {
                    card.style.transition = 'all 0.6s cubic-bezier(0.4, 0, 0.2, 1)';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 200);
            });

            // Animate progress bars if results are present
            {% if probability1 is defined and probability2 is defined %}
            setTimeout(() => {
                const p1 = {{ probability1 }};
                const p2 = {{ probability2 }};
                const bar1 = document.getElementById('bar1');
                const bar2 = document.getElementById('bar2');
                
                if (bar1) {
                    let progress = 0;
                    const animate = () => {
                        progress += 2;
                        if (progress <= p1) {
                            bar1.style.width = progress + '%';
                            bar1.setAttribute('aria-valuenow', progress);
                            requestAnimationFrame(animate);
                        } else {
                            bar1.style.width = p1 + '%';
                            bar1.setAttribute('aria-valuenow', p1);
                        }
                    };
                    requestAnimationFrame(animate);
                }
                
                if (bar2) {
                    let progress2 = 0;
                    const animate2 = () => {
                        progress2 += 2;
                        if (progress2 <= p2) {
                            bar2.style.width = progress2 + '%';
                            bar2.setAttribute('aria-valuenow', progress2);
                            requestAnimationFrame(animate2);
                        } else {
                            bar2.style.width = p2 + '%';
                            bar2.setAttribute('aria-valuenow', p2);
                        }
                    };
                    setTimeout(() => requestAnimationFrame(animate2), 300);
                }
            }, 800);
            {% endif %}

            // Add hover effects to form elements
            const formElements = document.querySelectorAll('.form-control, .form-select');
            formElements.forEach(element => {
                element.addEventListener('focus', function() {
                    this.style.transform = 'translateY(-2px)';
                    this.style.boxShadow = '0 8px 25px rgba(79, 172, 254, 0.2)';
                });
                
                element.addEventListener('blur', function() {
                    this.style.transform = 'translateY(0)';
                    this.style.boxShadow = 'none';
                });
            });

            // Add floating label effect
            formElements.forEach(element => {
                const label = element.previousElementSibling;
                if (label && label.classList.contains('form-label')) {
                    element.addEventListener('focus', () => {
                        label.style.color = '#4facfe';
                        label.style.transform = 'translateY(-2px)';
                    });
                    element.addEventListener('blur', () => {
                        if (!element.value) {
                            label.style.color = '';
                            label.style.transform = '';
                        }
                    });
                }
            });
        });
    </script>

</body>

</html>
